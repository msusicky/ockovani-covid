{% macro graf_srovnani_ockovani_neockovani(data) -%}
<div id="graf-srovnani-ockovani-neockovani"></div>
<div class="font-italic">
    <h6>Poznámky</h6>
    <p class="text-justify mb-0">
        TODO
    </p>
</div>

<script>
    function grafSrovnaniOckovaniNeockovani() {
        const traces = [
            {
                x: [{% for vekova_skupina in data.vekova_skupina %}"{{ vekova_skupina }}",{%  endfor %}],
                y: [{% for nakazeni_bez in data.nakazeni_bez_norm %}{{ nakazeni_bez }}, {% endfor %}],
                name: "Neočkovaní",
                type: "bar",
            },
            {
                x: [{% for vekova_skupina in data.vekova_skupina %}"{{ vekova_skupina }}",{%  endfor %}],
                y: [{% for nakazeni_plne in data.nakazeni_plne_norm %}{{ nakazeni_plne }}, {% endfor %}],
                name: "Plně očkovaní",
                type: "bar",
            },
        ];

        const layout = {
            title: "Srovnání očkovaných a neočkovaných",
            barmode: "stack",
            autosize: true,
            xaxis: {
                title: "Věková skupina",
            },
            yaxis: {
                title: "Počet nakažených na 100 000",
                automargin: true,
                tickformat: ",f",
            },
            showlegend: true,
            legend: {
                orientation: "h",
                xanchor: "center",
                x: 0.5,
                yanchor: "bottom",
                y: -0.8,
            },
            height: 700,
        };

        const config = {
            responsive: true,
            displayModeBar: false,
        };

        Plotly.newPlot("graf-srovnani-ockovani-neockovani", traces, layout, config);
    }

    grafSrovnaniOckovaniNeockovani();
</script>
{%- endmacro %}
