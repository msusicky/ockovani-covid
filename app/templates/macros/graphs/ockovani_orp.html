{% macro graf_ockovani_orp(data) -%}
<div id="graf-ockovani-orp"></div>

<script>
    function grafOckovaniOrp() {
        const layout = {
            mapbox: {
                style: 'white-bg',
                center: {lon: 15.4784, lat: 49.8203},
                zoom: 6.2
            },
            height: 700,
        };

        const data = [{
            type: "choroplethmapbox",
            locations: [{% for idx, row in data.iterrows() %}"{{ row[0] }}",{% endfor %}],
            z: [{% for idx, row in data.iterrows() %}{{ row[1] }},{% endfor %}],
            geojson: "https://data.gov.cz/attachments/%C4%8Dl%C3%A1nky/kartogram-choropleth/data/orp-simple.json"
        }];

        const config = {
            responsive: true,
        }

        Plotly.newPlot("graf-ockovani-orp", data, layout, config);
    }

    grafOckovaniOrp();
</script>
{%- endmacro %}
